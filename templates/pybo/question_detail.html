<!-- question_detail.html -->

<!-- 스태틱 파일을 사용하기위해 템플릿 파일 맨 위에 {% load static %} 태그를 삽입하고, 
	link 엘리먼트 href 속성에 {% static 'bootstrap.min.css' %}를 적자. -->
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}" />

<div class="container my-3">
	<h2 class="border-bottom py-2">{{ question.subject }}</h2>
	<div class="card my-3">
		<div class="card-body">
			<div class="card-text" style="white-space: pre-line">
				{{ question.content }}
			</div>
			<div class="d-flex justify-content-end">
				<div class="badge badge-light p-2">{{ question.create_date }}</div>
			</div>
		</div>
	</div>
	<!-- 등록된 답변 표시하기 -->
	<h5 class="border-bottom my-3 py-2">
		{{question.answer_set.count}}개의 답변이 있습니다.
	</h5>
	{% for answer in question.answer_set.all %}
	<div class="card my-3">
		<div class="card-body">
			<div class="card-text" style="white-space: pre-line">
				{{ answer.content }}
			</div>
			<div class="d-flex justify-content-end">
				<div class="badge badge-light p-2">{{ answer.create_date }}</div>
			</div>
		</div>
	</div>
	{% endfor %}
	<!-- % csrf_token %}는 form 엘리먼트를 통해 전송된 데이터(답변)가 실제로 
	웹 브라우저에서 작성된 데이터인지 판단하는 검사기 역할을 한다. 
	그러므로 <form ...> 태그 바로 밑에 {% csrf_token %}을 항상 입력해야 한다. -->
	<form action="{% url 'pybo:answer_create' question.id %}" method="post" class="my-3">
		{% csrf_token %}
		<div class="form-group">
			<textarea name="content" id="content" class="form-control" rows="10"></textarea>
		</div>
		<input type="submit" value="답변등록" class="btn btn-primary" />
	</form>
</div>